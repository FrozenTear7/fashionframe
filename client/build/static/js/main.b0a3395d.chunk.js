(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,t,a){e.exports=a(305)},302:function(e,t,a){},305:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(17),c=a.n(s),l=a(18),o=a(9),i=a.n(o),m=a(14),u=a(4),h=a(5),p=a(6),d=a(7),f=a(8),b=a(19),g=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).state={logoutRedirect:!1},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.state.logoutRedirect?(this.setState({logoutRedirect:!1}),n.a.createElement(b.a,{push:!0,to:"/fashionframe/"})):n.a.createElement("div",null,n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark navbar-bg-dark"},n.a.createElement("div",{className:"navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2"},n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement(l.b,{className:"nav-item nav-link",to:"/fashionframe/"},"Home"),this.props.isAuthorized&&n.a.createElement(l.b,{className:"nav-item nav-link",to:"/fashionframe/setups/new"},"New setup"))),n.a.createElement("div",{className:"mx-auto order-0"},n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":".dual-collapse2",style:{position:"absolute",left:0,marginLeft:"5%"}},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement(l.b,{className:"navbar-brand mx-auto",to:"/fashionframe/"},"Fashionframe")),n.a.createElement("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2"},n.a.createElement("ul",{className:"navbar-nav ml-auto"},this.props.isAuthorized&&n.a.createElement(l.b,{className:"nav-item nav-link",to:"/fashionframe/settings"},"Settings"),n.a.createElement("a",{type:"button",className:"nav-item nav-link","data-toggle":"modal","data-target":"#aboutModal"},"About"),n.a.createElement("div",{className:"modal fade",id:"aboutModal",tabIndex:"-1",role:"dialog","aria-labelledby":"aboutModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"aboutModalLabel"},"About the app"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},"Hi!",n.a.createElement("br",null),"I decided to make an app for sharing fashion with other Warframe players. ",n.a.createElement("br",null),"I am still an amateur programmer, so the app will have some bugs and it might not have the best looking interface. ",n.a.createElement("br",null),"If you have any issues regarding existing problems or want to share your feedback, visit the app repository on Github and create an Issue.",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("a",{href:"https://github.com/FrozenTear7/fashionframe/issues"},"Visit repository ",n.a.createElement("i",{className:"fa fa-github"})),n.a.createElement("br",null),n.a.createElement("br",null),"Or"," ",n.a.createElement("a",{href:"mailto:pawelmendroch7@gmail.com"},"write to me personally"),n.a.createElement("br",null),"Or whisper in-game at FrozenTear7",n.a.createElement("br",null),n.a.createElement("br",null),"If you like the app and have a Github account it would be awesome if you gave the project a Star",n.a.createElement("i",{className:"fa fa-star"}),".",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("hr",{className:"divider"}),"The app is deployed to Heroku running on a free plan server, so there might be some maintenance time every month if there is too much traffic. ",n.a.createElement("br",null),"I will act accordingly depending on the popularity of this project. It's an open source project and I don't plan putting ads here.",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null)),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("small",null,"Fashionframe isn\u2019t endorsed by Digital Extremes and doesn\u2019t reflect the views or opinions of Digital Extremes or anyone officially involved in producing or managing Warframe. Warframe and Digital Extremes are trademarks or registered trademarks of Digital Extremes \xa9."))))),!this.props.isAuthorized&&n.a.createElement(l.b,{className:"nav-item nav-link",to:"/fashionframe/signin"},"Sign in"),this.props.isAuthorized&&n.a.createElement("li",{className:"nav-item nav-link disabled"},"User: ",this.props.userData.username),this.props.isAuthorized&&n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link",href:"https://fashionframe.herokuapp.com/auth/logout"},"Sign out"))))))}}]),t}(r.Component),E=a(24),v=function(e){var t=e.component,a=e.isAuthorized,r=Object(E.a)(e,["component","isAuthorized"]);return n.a.createElement(b.b,Object.assign({},r,{render:function(e){return a?n.a.createElement(t,Object.assign({},e,r)):n.a.createElement(b.a,{push:!0,to:"/fashionframe/"})}}))},O=a(2),k=a(1),y=function(e){return e.length>0},N=function(e){return e.length>=6},j=function(e,t){return e===t},S=a(10),C=function(e,t){var a=new URL("https://fashionframe.herokuapp.com"+e);return fetch(a,Object(S.a)({},t,{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://fashionframe.herokuapp.com/fashionframe","Access-Control-Allow-Credentials":!0}}))},x=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).state={username:"",password:"",loginRedirect:!1,error:"",showValidationMessages:!1},e.formValueOnChange=e.formValueOnChange.bind(Object(k.a)(e)),e.formSubmitLogin=e.formSubmitLogin.bind(Object(k.a)(e)),e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"formValueOnChange",value:function(e){this.setState(Object(O.a)({},e.target.id,e.target.value))}},{key:"formSubmitLogin",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,r,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.username,r=t.password,!y(a)||!N(r)){e.next=18;break}return e.prev=2,e.next=5,C("/auth/local/login",{method:"POST",body:JSON.stringify({username:a,password:r})});case 5:if((n=e.sent).ok){e.next=11;break}return e.next=9,n.json();case 9:s=e.sent,this.setState({loginRedirect:!0,error:s.message});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),this.setState({error:"Could not sign in"});case 16:e.next=19;break;case 18:this.setState({showValidationMessages:!0});case 19:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,r=e.loginRedirect,s=e.error,c=e.showValidationMessages;return r?(this.setState({loginRedirect:!1}),n.a.createElement(b.a,{push:!0,to:"/fashionframe/"})):n.a.createElement("div",{className:"center"},n.a.createElement("form",{onChange:this.formValueOnChange},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Username"),n.a.createElement("input",{type:"text",className:"form-control",id:"username",placeholder:"Username"}),c&&!y(t)&&n.a.createElement("small",{className:"text-error"},"Username is required")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password"}),c&&!N(a)&&n.a.createElement("small",{className:"text-error"},"Password is required - at least 6 characters")),s&&n.a.createElement("div",{className:"alert alert-danger center",role:"alert"},s),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.formSubmitLogin},"Login")))}}]),t}(r.Component),w=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).state={username:"",password:"",password2:"",loginRedirect:!1,error:"",showValidationMessages:!1},e.formValueOnChange=e.formValueOnChange.bind(Object(k.a)(e)),e.formSubmitRegister=e.formSubmitRegister.bind(Object(k.a)(e)),e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"formValueOnChange",value:function(e){this.setState(Object(O.a)({},e.target.id,e.target.value))}},{key:"formSubmitRegister",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,r,n,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.username,r=t.password,n=t.password2,!(y(a)&&N(r)&&j(r,n))){e.next=18;break}return e.prev=2,e.next=5,C("/auth/local/register",{method:"POST",body:JSON.stringify({username:a,password:r,password2:n})});case 5:if((s=e.sent).ok){e.next=11;break}return e.next=9,s.json();case 9:c=e.sent,this.setState({loginRedirect:!0,error:c.message});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),this.setState({error:"Could not sign in"});case 16:e.next=19;break;case 18:this.setState({showValidationMessages:!0});case 19:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,r=e.password2,s=e.loginRedirect,c=e.error,l=e.showValidationMessages;return s?(this.setState({loginRedirect:!1}),n.a.createElement(b.a,{push:!0,to:"/fashionframe/"})):n.a.createElement("div",{className:"center"},n.a.createElement("form",{onChange:this.formValueOnChange},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Username"),n.a.createElement("input",{type:"text",className:"form-control",id:"username",placeholder:"Username"}),l&&!y(t)&&n.a.createElement("small",{className:"text-error"},"Username is required")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password"}),l&&!N(a)&&n.a.createElement("small",{className:"text-error"},"Password is required - at least 6 characters")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password2"},"Confirm password"),n.a.createElement("input",{type:"password",className:"form-control",id:"password2",placeholder:"Password"}),l&&!j(a,r)&&n.a.createElement("small",{className:"text-error"},"Passwords don't match")),c&&n.a.createElement("div",{className:"alert alert-danger center",role:"alert"},c),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.formSubmitRegister},"Register")))}}]),t}(r.Component),P="https://fashionframe.herokuapp.com",A=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).state={loginMode:!0},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"center-half"},n.a.createElement("div",{className:"jumbotron"},n.a.createElement("h1",{className:"display-4"},"Sign in"),n.a.createElement("br",null),this.state.loginMode?n.a.createElement(x,null):n.a.createElement(w,null),n.a.createElement("br",null),n.a.createElement("button",{className:"btn-sm btn-primary",onClick:function(){return e.setState({loginMode:!e.state.loginMode})}},n.a.createElement("small",null,this.state.loginMode?"Register":"Login")),n.a.createElement("hr",{className:"my-4"}),n.a.createElement("h4",null,"Or sign in using"),n.a.createElement("ul",{className:"list-group list-group-horizontal center"},n.a.createElement("li",{className:"social-media-list-item"},n.a.createElement("a",{className:"btn btn-primary btn-lg",href:P+"/auth/google",role:"button"},n.a.createElement("span",null," ")," ",n.a.createElement("i",{className:"fa fa-google-plus"}))),n.a.createElement("li",{className:"social-media-list-item"},n.a.createElement("a",{className:"btn btn-primary btn-lg",href:P+"/auth/twitchtv",role:"button"},n.a.createElement("span",null," ")," ",n.a.createElement("i",{className:"fa fa-twitch"}))),n.a.createElement("li",{className:"social-media-list-item"},n.a.createElement("a",{className:"btn btn-primary btn-lg",href:P+"/auth/facebook",role:"button"},n.a.createElement("span",null," ")," ",n.a.createElement("i",{className:"fa fa-facebook"}))))))}}]),t}(r.Component),D=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"center"},n.a.createElement("h1",null,"404 not found ",n.a.createElement("br",null),n.a.createElement("br",null)),n.a.createElement("img",{src:"./vay_hek.jpg",alt:"Screaming Vay Hek",style:{maxWidth:"60%"}}))}}]),t}(r.Component);var F=function(){return n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"spinner-grow text-dark",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading...")))},L=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).state={userData:{loading:!0,data:{username:""},error:""}},e.handleUsernameChange=e.handleUsernameChange.bind(Object(k.a)(e)),e.handleUserDataSubmit=e.handleUserDataSubmit.bind(Object(k.a)(e)),e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"fetchUserData",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("/auth/user");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({userData:Object(S.a)({},this.state.userData,{loading:!1,error:"",data:{username:a.username}})}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({userData:Object(S.a)({},this.state.userData,{loading:!1,error:e.t0.message})});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchUserData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleUsernameChange",value:function(e){this.setState({userData:Object(S.a)({},this.state.userData,{data:{username:e.target.value}})})}},{key:"handleUserDataSubmit",value:function(){var e=Object(m.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("/auth/user",{method:"PUT",body:JSON.stringify({userData:this.state.userData.data})});case 3:if(!(a=e.sent).ok){e.next=8;break}window.location.reload(),e.next=12;break;case 8:return e.next=10,a.json();case 10:r=e.sent,this.setState({userData:Object(S.a)({},this.state.userData,{error:r.message})});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),this.setState({userData:Object(S.a)({},this.state.userData,{error:"Server error"})});case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.userData.loading?n.a.createElement(F,null):n.a.createElement("div",null,n.a.createElement("form",{className:"center-margin",style:{maxWidth:"50%"}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"username"},"Change username"),n.a.createElement("input",{className:"form-control",id:"username",value:this.state.userData.data.username,onChange:this.handleUsernameChange})),this.state.userData.error&&n.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.userData.error),n.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.handleUserDataSubmit},"Submit")))}}]),t}(r.Component),U=a(16),R=a(37),M=function(e){return{label:e,value:e}},I=function(e){return e.map((function(e){return{label:e,value:e}}))},z=function(e){return[{label:"None",value:"None"}].concat(Object(R.a)(e.map((function(e){return{label:e,value:e}}))))},V=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.setup.frame!==this.props.setup.frame||e.setup.helmet!==this.props.setup.helmet||e.setup.skin!==this.props.setup.skin||e.setup.colorScheme!==this.props.setup.colorScheme}},{key:"render",value:function(){var e=this,t=new RegExp(".*".concat(this.props.setup.frame," .*"));return n.a.createElement("div",null,n.a.createElement("div",{className:"center collapse-button-dark","data-toggle":"collapse","data-target":"#collapsePhysique","aria-expanded":"false","aria-controls":"collapsePhysique"},"PHYSIQUE"),n.a.createElement("div",{className:"collapse show",id:"collapsePhysique"},n.a.createElement("div",{className:"card card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"helmetSelect"},"Helmet"),n.a.createElement(U.a,{id:"helmetSelect",value:M(t.test(this.props.setup.helmet)?this.props.setup.helmet:this.props.setup.frame+" Helmet"),options:I(this.props.helmets),onChange:function(t){return e.props.helmetOnChange(t.value)}}))),n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"skinSelect"},"Skin"),n.a.createElement(U.a,{id:"skinSelect",value:M(t.test(this.props.setup.skin)?this.props.setup.skin:this.props.setup.frame+" Skin"),options:I(this.props.skins),onChange:function(t){return e.props.skinOnChange(t.value)}})))),n.a.createElement("br",null),this.props.colorPickerComponent)))}}]),t}(r.Component),T=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.setup.attachments!==this.props.setup.attachments}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"center collapse-button-dark","data-toggle":"collapse","data-target":"#collapseAttachments","aria-expanded":"false","aria-controls":"collapseAttachments"},"ATTACHMENTS"),n.a.createElement("div",{className:"collapse",id:"collapseAttachments"},n.a.createElement("div",{className:"card card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"chestSelect"},"Chest"),n.a.createElement(U.a,{id:"chestSelect",defaultValue:M(this.props.setup.attachments.chest||"None"),options:z(this.props.chestAttachments),onChange:function(t){return e.props.chestOnChange(t.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"leftArmSelect"},"Left Arm"),n.a.createElement(U.a,{id:"leftArmSelect",defaultValue:M(this.props.setup.attachments.leftArm||"None"),options:z(this.props.armAttachments),onChange:function(t){return e.props.leftArmOnChange(t.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"leftArmSelect"},"Left Leg"),n.a.createElement(U.a,{id:"leftArmSelect",defaultValue:M(this.props.setup.attachments.leftLeg||"None"),options:z(this.props.legAttachments),onChange:function(t){return e.props.leftLegOnChange(t.value)}}))),n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"ephemeraSelect"},"Ephemera"),n.a.createElement(U.a,{id:"ephemeraSelect",defaultValue:M(this.props.setup.attachments.ephemera||"None"),options:z(this.props.ephemeras),onChange:function(t){return e.props.ephemeraOnChange(t.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"rightArmSelect"},"Right Arm"),n.a.createElement(U.a,{id:"rightArmSelect",defaultValue:M(this.props.setup.attachments.rightArm||"None"),options:z(this.props.armAttachments),onChange:function(t){return e.props.rightArmOnChange(t.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"rightLegSelect"},"Right Leg"),n.a.createElement(U.a,{id:"rightLegSelect",defaultValue:M(this.props.setup.attachments.rightLeg||"None"),options:z(this.props.legAttachments),onChange:function(t){return e.props.leftLegOnChange(t.value)}})))),n.a.createElement("br",null),this.props.colorPickerComponent)))}}]),t}(r.Component),W=a(123),H=a(308),q=a(309),J=a(310),G=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).state={colorPicker:"Classic"},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return t.colorPicker!==this.state.colorPicker||e.color!==this.props.color}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("ul",{className:"list-inline"},n.a.createElement("li",{className:"list-inline-item"},n.a.createElement("div",{style:{width:"175px"}},this.props.colorName,n.a.createElement(U.a,{defaultValue:M("Classic"),options:I(Object.keys(this.props.colors)),onChange:function(t){return e.setState({colorPicker:t.value})}}))),n.a.createElement("li",{className:"list-inline-item"},n.a.createElement(H.a,{trigger:"click",placement:"right",rootClose:!0,overlay:n.a.createElement(q.a,{id:"popover-basic",title:"Change color"},n.a.createElement(W.GithubPicker,{onChangeComplete:this.props.buttonColorOnClick,triangle:"hide",width:"138px",colors:this.props.colors[this.state.colorPicker]}))},n.a.createElement(J.a,{className:this.props.color?"color-button":"transparent-checkered color-button",style:{backgroundColor:this.props.color?this.props.color:"#d1d1d1"}})))))}}]),t}(r.Component),Y=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},_=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"row"},this.props.colorNames.slice(0,4).map((function(t,a){return n.a.createElement("div",{className:"col-3",key:a},n.a.createElement(G,{key:t,colorName:Y(t),buttonColorOnClick:e.props.getColorOnClickFunction(t),color:e.props.setupColors["".concat(t)],colors:e.props.colorPickers}))}))),n.a.createElement("br",null),n.a.createElement("div",{className:"row"},this.props.colorNames.slice(4,8).map((function(t,a){return n.a.createElement("div",{className:"col-3",key:a},n.a.createElement(G,{key:t,colorName:Y(t),buttonColorOnClick:e.props.getColorOnClickFunction(t),color:e.props.setupColors["".concat(t)],colors:e.props.colorPickers}))}))))}}]),t}(r.Component),B=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"setupNameInput"},"Setup name"),n.a.createElement("input",{id:"setupNameInput",type:"text",className:"form-control",value:this.props.setup.name,onChange:this.props.handleNameChange}))),n.a.createElement("div",{className:"col-4"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"frameSelect"},"Frame"),n.a.createElement(U.a,{id:"frameSelect",defaultValue:M(this.props.setup.frame),options:I(this.props.frames),onChange:function(t){return e.props.frameOnChange(t.value)}}))),n.a.createElement("div",{className:"col-2"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"frameSelect"},"Actions"),n.a.createElement("ul",{className:"list-inline"},n.a.createElement("li",{className:"list-inline-item"},n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.props.saveSetupOnClick},"Save setup")),n.a.createElement("li",{className:"list-inline-item"},n.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.props.deleteSetupOnClick},"Delete setup")))))))}}]),t}(r.Component),Q=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"descriptionTextarea"},"Description"),n.a.createElement("textarea",{id:"descriptionTextarea",className:"form-control",value:this.props.description,onChange:this.props.handleDescriptionChange})),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"screenshotInput"},"Screenshot"),n.a.createElement("input",{id:"screenshotInput",type:"text",className:"form-control",value:this.props.screenshot,onChange:this.props.handleScreenshotChange})))}}]),t}(r.Component),$=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.setup.syandana!==this.props.setup.syandana||e.setup.syandana.colorScheme!==this.props.setup.syandana.colorScheme}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"center collapse-button-dark","data-toggle":"collapse","data-target":"#collapseSyandana","aria-expanded":"false","aria-controls":"collapseSyandana"},"SYANDANA"),n.a.createElement("div",{className:"collapse",id:"collapseSyandana"},n.a.createElement("div",{className:"card card-body"},n.a.createElement("label",{htmlFor:"syandanaSelect"},"Syandana"),n.a.createElement(U.a,{id:"syandanaSelect",defaultValue:M(this.props.setup.attachments.syandana||"None"),options:I(this.props.syandanas),onChange:function(t){return e.props.syandanaOnChange(t.value)}}),n.a.createElement("br",null),this.props.colorPickerComponent)))}}]),t}(r.Component),K=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={createSetupRedirect:!1,deleteSetupRedirect:!1,setupId:"",setupError:"",setupLoading:"edit"===a.props.mode,setup:{id:"",name:"",frame:"Ash",description:"",screenshot:"",skin:"Ash Skin",helmet:"Ash Helmet",attachments:{id:"",chest:"",leftArm:"",rightArm:"",leftLeg:"",rightLeg:"",ephemera:"",colorScheme:{id:"",primary:null,secondary:null,tertiary:null,accents:null,emmissive1:null,emmissive2:null,energy1:null,energy2:null}},syandana:{id:"",name:"",colorScheme:{id:"",primary:null,secondary:null,tertiary:null,accents:null,emmissive1:null,emmissive2:null,energy1:null,energy2:null}},colorScheme:{id:"",primary:null,secondary:null,tertiary:null,accents:null,emmissive1:null,emmissive2:null,energy1:null,energy2:null}},frames:{loading:!0,data:[],error:""},ephemeras:{loading:!0,data:[],error:""},helmets:{loading:!0,data:[],error:""},skins:{loading:!0,data:[],error:""},colorPickers:{loading:!0,data:[],error:""},chestAttachments:{loading:!0,data:[],error:""},armAttachments:{loading:!0,data:[],error:""},legAttachments:{loading:!0,data:[],error:""},syandanas:{loading:!0,data:[],error:""}},a.handleNameChange=a.handleNameChange.bind(Object(k.a)(a)),a.handleDescriptionChange=a.handleDescriptionChange.bind(Object(k.a)(a)),a.handleScreenshotChange=a.handleScreenshotChange.bind(Object(k.a)(a)),a.postNewSetup=a.postNewSetup.bind(Object(k.a)(a)),a.deleteSetup=a.deleteSetup.bind(Object(k.a)(a)),a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"getErrorFormMessages",value:function(){var e="";return this.state.setup.name||(e+=", provide setup name"),this.state.setup.screenshot||(e+=", provide setup screenshot URL"),e}},{key:"getErrorMessages",value:function(){var e="";return[this.state.frames.error,this.state.ephemeras.error,this.state.skins.error,this.state.helmets.error,this.state.colorPickers.error,this.state.chestAttachments.error,this.state.armAttachments.error,this.state.legAttachments.error,this.state.syandanas.error,this.state.setupError].forEach((function(t){if(t)return e+=t+", "})),e.length>2&&(e=e.slice(0,e.length-2)),e&&(e+=this.getErrorFormMessages()),e?n.a.createElement("div",{className:"alert alert-danger",role:"alert"},e):n.a.createElement("span",null)}},{key:"fetchWarframeData",value:function(){var e=Object(m.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("/api/".concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,a.ok?this.setState(Object(O.a)({},t,Object(S.a)({},this.state[t],{loading:!1,error:"",data:r[t]}))):this.setState(Object(O.a)({},t,Object(S.a)({},this.state[t],{loading:!1,error:r.message}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState(Object(O.a)({},t,Object(S.a)({},this.state[t],{loading:!1,error:"Could not fetch ".concat(t)})));case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchSetupData",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("/setups/".concat(this.props.match.params.id));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,t.ok?this.setState({setupLoading:!1,setup:a.setup}):this.setState({setupLoading:!1,setupError:a.message}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({setupLoading:!1,setupError:"Could not fetch setup data"});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"postNewSetup",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("/setups".concat("edit"===this.props.mode?"/".concat(this.props.match.params.id):""),{method:"edit"===this.props.mode?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({setup:this.state.setup})});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,t.ok?this.setState({createSetupRedirect:!0,setupId:a.setupId}):this.setState({setupError:a.message}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({setupError:"edit"===this.props.mode?"Could not update setup":"Could not create setup"});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"deleteSetup",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("edit"!==this.props.mode){e.next=20;break}return e.prev=1,e.next=4,C("/setups/".concat(this.props.match.params.id),{method:"DELETE"});case 4:if(!(t=e.sent).ok){e.next=9;break}this.setState({deleteSetupRedirect:!0}),e.next=13;break;case 9:return e.next=11,t.json();case 11:a=e.sent,this.setState({setupError:a.message});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),this.setState({setupError:"Could delete setup"});case 18:e.next=21;break;case 20:"new"===this.props.mode&&this.setState({deleteSetupRedirect:!0});case 21:case"end":return e.stop()}}),e,this,[[1,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchWarframeData("frames");case 2:return e.next=4,this.fetchWarframeData("ephemeras");case 4:return e.next=6,this.fetchWarframeData("skins");case 6:return e.next=8,this.fetchWarframeData("helmets");case 8:return e.next=10,this.fetchWarframeData("colorPickers");case 10:return e.next=12,this.fetchWarframeData("chestAttachments");case 12:return e.next=14,this.fetchWarframeData("armAttachments");case 14:return e.next=16,this.fetchWarframeData("legAttachments");case 16:return e.next=18,this.fetchWarframeData("syandanas");case 18:if("edit"!==this.props.mode){e.next=21;break}return e.next=21,this.fetchSetupData();case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleNameChange",value:function(e){this.setState({setup:Object(S.a)({},this.state.setup,{name:e.target.value})})}},{key:"handleDescriptionChange",value:function(e){this.setState({setup:Object(S.a)({},this.state.setup,{description:e.target.value})})}},{key:"handleScreenshotChange",value:function(e){this.setState({setup:Object(S.a)({},this.state.setup,{screenshot:e.target.value})})}},{key:"setupElementOnChange",value:function(e,t){this.setState({setup:Object(S.a)({},this.state.setup,Object(O.a)({},e,t))})}},{key:"attachmentsElementOnChange",value:function(e,t){this.setState({setup:Object(S.a)({},this.state.setup,{attachments:Object(S.a)({},this.state.setup.attachments,Object(O.a)({},e,t))})})}},{key:"syandanaOnChange",value:function(e,t){this.setState({setup:Object(S.a)({},this.state.setup,{syandanaOnChange:Object(S.a)({},this.state.setup.syandanaOnChange,Object(O.a)({},e,t))})})}},{key:"getColorPickersComponent",value:function(e,t){return n.a.createElement(_,{getColorOnClickFunction:e,setupColors:t,colorNames:["primary","secondary","tertiary","accents","emmissive1","emmissive2","energy1","energy2"],colorPickers:this.state.colorPickers.data})}},{key:"render",value:function(){var e=this;return this.state.createSetupRedirect?(this.setState({createSetupRedirect:!1}),n.a.createElement(b.a,{push:!0,to:"/setups/".concat(this.state.setupId)})):this.state.deleteSetupRedirect?(this.setState({deleteSetupRedirect:!1}),n.a.createElement(b.a,{push:!0,to:"/"})):this.state.frames.loading||this.state.ephemeras.loading||this.state.skins.loading||this.state.helmets.loading||this.state.colorPickers.loading||this.state.chestAttachments.loading||this.state.armAttachments.loading||this.state.legAttachments.loading||this.state.syandanas.loading||this.state.setupLoading?n.a.createElement(F,null):n.a.createElement("div",null,n.a.createElement(B,{setup:this.state.setup,frames:this.state.frames.data,handleNameChange:this.handleNameChange,frameOnChange:function(t){return e.setupElementOnChange("frame",t)},saveSetupOnClick:this.postNewSetup,deleteSetupOnClick:this.deleteSetup}),this.getErrorMessages(),n.a.createElement("hr",{className:"divider"}),n.a.createElement("br",null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-8"},n.a.createElement(V,{setup:this.state.setup,helmets:this.state.helmets.data.filter((function(t){return t.match(".*".concat(e.state.setup.frame," .*"))})),helmetOnChange:function(t){return e.setupElementOnChange("helmet",t)},skins:this.state.skins.data.filter((function(t){return t.match(".*".concat(e.state.setup.frame," .*"))})),skinOnChange:function(t){return e.setupElementOnChange("skin",t)},colorPickerComponent:this.getColorPickersComponent((function(t){return function(a){return e.setState({setup:Object(S.a)({},e.state.setup,{colorScheme:Object(S.a)({},e.state.setup.colorScheme,Object(O.a)({},"".concat(t),a.hex))})})}}),this.state.setup.colorScheme)}),n.a.createElement("br",null),n.a.createElement(T,{setup:this.state.setup,chestAttachments:this.state.chestAttachments.data,ephemeras:this.state.ephemeras.data,armAttachments:this.state.armAttachments.data,legAttachments:this.state.legAttachments.data,chestOnChange:function(t){return e.attachmentsElementOnChange("chest",t)},ephemeraOnChange:function(t){return e.attachmentsElementOnChange("ephemera",t)},leftArmOnChange:function(t){return e.attachmentsElementOnChange("leftArm",t)},rightArmOnChange:function(t){return e.attachmentsElementOnChange("rightArm",t)},leftLegOnChange:function(t){return e.attachmentsElementOnChange("leftLeg",t)},rightLegOnChange:function(t){return e.attachmentsElementOnChange("rightLeg",t)},colorPickerComponent:this.getColorPickersComponent((function(t){return function(a){return e.setState({setup:Object(S.a)({},e.state.setup,{attachments:Object(S.a)({},e.state.setup.attachments,{colorScheme:Object(S.a)({},e.state.setup.attachments.colorScheme,Object(O.a)({},"".concat(t),a.hex))})})})}}),this.state.setup.attachments.colorScheme)}),n.a.createElement("br",null),n.a.createElement($,{setup:this.state.setup,syandanas:this.state.syandanas.data,syandanaOnChange:function(t){return e.syandanaOnChange("syandana",t)},colorPickerComponent:this.getColorPickersComponent((function(t){return function(a){return e.setState({setup:Object(S.a)({},e.state.setup,{syandana:Object(S.a)({},e.state.setup.syandana,{colorScheme:Object(S.a)({},e.state.setup.syandana.colorScheme,Object(O.a)({},"".concat(t),a.hex))})})})}}),this.state.setup.syandana.colorScheme)})),n.a.createElement("div",{className:"col-4"},n.a.createElement(Q,{description:this.state.setup.description,handleDescriptionChange:this.handleDescriptionChange,screenshot:this.state.setup.screenshot,handleScreenshotChange:this.handleScreenshotChange}))))}}]),t}(r.Component),X=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("nav",{"aria-label":"..."},n.a.createElement("ul",{className:"pagination center"},n.a.createElement("li",{className:this.props.currentFetchPage-1===0?"page-item disabled":"page-item"},n.a.createElement("button",{className:"page-link",disabled:this.props.currentFetchPage-1===0,onClick:function(){return e.props.fetchSetups(1)}},"<<")),n.a.createElement("li",{className:this.props.currentFetchPage-1===0?"page-item disabled":"page-item"},n.a.createElement("button",{className:"page-link",disabled:this.props.currentFetchPage-1===0,onClick:function(){return e.props.fetchSetups(e.props.currentFetchPage-1)}},"<")),function(e,t){var a=Math.max(t-Math.floor(2.5),1);a+5>e&&(a=e-5+1),e<5&&(a=1);for(var r=[],n=0;n<Math.min(e,5);n++)r=[].concat(Object(R.a)(r),[a+n-1]);return r}(this.props.numberOfPages,this.props.currentFetchPage).map((function(t){return n.a.createElement("li",{key:t,className:t+1===e.props.currentFetchPage?"page-item active":"page-item"},n.a.createElement("button",{className:"page-link",disabled:t+1===e.props.currentFetchPage,onClick:function(){return e.props.fetchSetups(t+1)}},t+1))})),n.a.createElement("li",{className:this.props.currentFetchPage===this.props.numberOfPages||this.props.currentFetchPage-1===this.props.numberOfPages&&0===this.props.numberOfPages?"page-item disabled":"page-item"},n.a.createElement("button",{className:"page-link",disabled:this.props.currentFetchPage===this.props.numberOfPages||this.props.currentFetchPage-1===this.props.numberOfPages&&0===this.props.numberOfPages,onClick:function(){return e.props.fetchSetups(e.props.currentFetchPage+1)}},">")),n.a.createElement("li",{className:this.props.currentFetchPage===this.props.numberOfPages||this.props.currentFetchPage-1===this.props.numberOfPages&&0===this.props.numberOfPages?"page-item disabled":"page-item"},n.a.createElement("button",{className:"page-link",disabled:this.props.currentFetchPage===this.props.numberOfPages||this.props.currentFetchPage-1===this.props.numberOfPages&&0===this.props.numberOfPages,onClick:function(){return e.props.fetchSetups(e.props.numberOfPages)}},">>"))))}}]),t}(r.Component),Z=["Popular","New","Oldest"],ee=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).state={filter:Z[0],currentFetchPage:0,numberOfPages:1,frame:"None",setups:{loading:!0,data:[],error:""},frames:{loading:!0,data:[],error:""}},e.frameSelectOnChange=e.frameSelectOnChange.bind(Object(k.a)(e)),e.filterSelectOnChange=e.filterSelectOnChange.bind(Object(k.a)(e)),e.fetchSetups=e.fetchSetups.bind(Object(k.a)(e)),e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"fetchFrames",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("/api/frames");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,t.ok?this.setState({frames:Object(S.a)({},this.state.frames,{loading:!1,error:"",data:a.frames})}):this.setState({frames:Object(S.a)({},this.state.frames,{loading:!1,error:a.message})}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({frames:Object(S.a)({},this.state.frames,{loading:!1,error:"Could not fetch frames"})});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchSetups",value:function(){var e=Object(m.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("/setups?frame=".concat(this.state.frame,"&order=").concat(this.state.filter,"&limit=").concat(9,"&offset=").concat(9*(t-1)));case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,a.ok?this.setState({currentFetchPage:t,numberOfPages:Math.ceil(r.setupsCount/9)||1,setups:Object(S.a)({},this.state.setups,{loading:!1,error:"",data:r.setups})}):this.setState({setups:Object(S.a)({},this.state.setups,{loading:!1,error:r.message})}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({setups:Object(S.a)({},this.state.setups,{loading:!1,error:"Could not fetch setups"})});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"frameSelectOnChange",value:function(){var e=Object(m.a)(i.a.mark((function e(t){var a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({frame:t.value},(function(){return a.fetchSetups(1)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterSelectOnChange",value:function(){var e=Object(m.a)(i.a.mark((function e(t){var a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({filter:t.value},(function(){return a.fetchSetups(1)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchFrames();case 2:return e.next=4,this.fetchSetups(1);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.frames.loading||this.state.setups.loading?n.a.createElement(F,null):n.a.createElement("div",{className:"center"},n.a.createElement(X,{currentFetchPage:this.state.currentFetchPage,numberOfPages:this.state.numberOfPages,fetchSetups:this.fetchSetups}),n.a.createElement("br",null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-3"}),n.a.createElement("div",{className:"col-3"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"frameSelect"},"Filter by frame"),n.a.createElement(U.a,{id:"frameSelect",value:M(this.state.frame),options:z(this.state.frames.data),onChange:this.frameSelectOnChange}))),n.a.createElement("div",{className:"col-3"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"filterSelect"},"Sort by"),n.a.createElement(U.a,{id:"filterSelect",value:M(this.state.filter),options:I(Z),onChange:this.filterSelectOnChange}))),n.a.createElement("div",{className:"col-3"})),n.a.createElement("ul",{className:"list-group"},this.state.setups.data.map((function(e,t){return n.a.createElement(l.b,{to:"/fashionframe/setups/".concat(e.id),key:t},n.a.createElement("li",{className:"list-group-item",style:{marginBottom:"10px"}},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},n.a.createElement("h3",null,e.name),n.a.createElement("h4",null,"Frame: ",e.frame),n.a.createElement("hr",{className:"divider"}),n.a.createElement("span",{className:"badge badge-primary"},n.a.createElement("i",{className:"fa fa-star"}),e.liked),n.a.createElement("h5",null,"Author: ",e.username),n.a.createElement("small",null,"Created at: ",e.created_at.match(/\w+-\w+-\w+/)[0])),n.a.createElement("div",{className:"col-6"},n.a.createElement("img",{src:e.screenshot,alt:"Thumbnail",className:"search-thumbnail"})))))}))))}}]),t}(r.Component),te=a(128),ae=a.n(te),re=function(e){var t={};return e.forEach((function(e){t[e]=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}(e)})),t};var ne=function(e){return n.a.createElement("div",{className:e?"color-button":"color-button transparent-checkered",style:{backgroundColor:e||"#d1d1d1"}})},se=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#".concat(this.props.modalName)},"Check colors"),n.a.createElement("div",{className:"modal fade",id:"".concat(this.props.modalName),tabIndex:"-1",role:"dialog","aria-labelledby":"".concat(this.props.modalName,"Label"),"aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"".concat(this.props.modalName,"Label")},"Color choices for ",this.props.color,ne(this.props.color)),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("ul",{className:"list-group"},Object.keys(this.props.colorPickers).map((function(t){var a=ae.a.from(re(e.props.colorPickers[t]))(e.props.color),r=function(e,t){var a=t.findIndex((function(t){return t===e}));return{column:Math.ceil(a/18)+1,row:Math.ceil(a/5)+1}}(a.value,e.props.colorPickers[t]);return n.a.createElement("li",{className:"list-group-item",key:t},t,": Column ",r.column,", Row"," ",r.row,a.distance>20&&n.a.createElement("span",{style:{color:"#ff0000"}}," ","- No close choice"),n.a.createElement("br",null),ne(a.value))})))),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal"},"Close"))))))}}]),t}(r.Component),ce=function(e,t,a,r){return r.map((function(r,s){return n.a.createElement("div",{className:"col-3",key:s},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:r},(c=r).charAt(0).toUpperCase()+c.slice(1)),n.a.createElement("div",{id:r},function(e,t,a){return n.a.createElement("div",null,ne(e),n.a.createElement("br",null),e&&n.a.createElement(se,{color:e,colorPickers:t,modalName:a}))}(e[r],t,a+r))));var c}))},le=function(e,t,a){return n.a.createElement("div",null,n.a.createElement("div",{className:"row"},ce(e,t,a,Object.keys(e).slice(1,5))),n.a.createElement("br",null),n.a.createElement("div",{className:"row"},ce(e,t,a,Object.keys(e).slice(5,9))))},oe=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).state={setup:{loading:!0,data:{},error:""},colorPickers:{loading:!0,data:[],error:""}},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"fetchSetupData",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("/setups/".concat(this.props.match.params.id));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,t.ok?this.setState({setup:Object(S.a)({},this.state.setup,{loading:!1,error:"",data:a.setup})}):this.setState({setup:Object(S.a)({},this.state.setup,{loading:!1,error:a.message})}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({setup:Object(S.a)({},this.state.setup,{loading:!1,error:"Could not fetch setup data"})});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"likeSetup",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("/setups/like/".concat(this.props.match.params.id),{method:"POST",body:JSON.stringify({like:!this.state.setup.data.likedbyyou})});case 3:if(!(t=e.sent).ok){e.next=8;break}this.setState({setup:Object(S.a)({},this.state.setup,{loading:!1,error:"",data:Object(S.a)({},this.state.setup.data,{likedbyyou:!this.state.setup.data.likedbyyou,liked:parseInt(this.state.setup.data.liked)+(this.state.setup.data.likedbyyou?-1:1)})})}),e.next=12;break;case 8:return e.next=10,t.json();case 10:a=e.sent,this.setState({setup:Object(S.a)({},this.state.setup,{loading:!1,error:a.message})});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),this.setState({setup:Object(S.a)({},this.state.setup,{loading:!1,error:"Could not like setup - please try again"})});case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchColorPickers",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("/api/colorPickers");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,t.ok?this.setState({colorPickers:Object(S.a)({},this.state.colorPickers,{loading:!1,error:"",data:a.colorPickers})}):this.setState({colorPickers:Object(S.a)({},this.state.colorPickers,{loading:!1,error:a.message})}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({colorPickers:Object(S.a)({},this.state.colorPickers,{loading:!1,error:"Could not fetch colors data"})});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchSetupData();case 2:return e.next=4,this.fetchColorPickers();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.setup.loading||this.state.colorPickers.loading)return n.a.createElement(F,null);var t=this.state.setup.data;return n.a.createElement("div",null,this.state.setup.error&&n.a.createElement("div",{className:"alert alert-danger center",role:"alert"},this.state.setup.error,n.a.createElement("br",null),n.a.createElement(l.b,{to:"/fashionframe/"},"Go back to setups")),n.a.createElement("h1",{className:"center"},t.name),n.a.createElement("br",null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-4"},n.a.createElement("h3",null,"Frame: ",t.frame),n.a.createElement("br",null),n.a.createElement("h5",null,"Description: ",t.description),n.a.createElement("br",null),n.a.createElement("h5",null,"Author: ",t.username),n.a.createElement("small",null,"Created at: ",t.created_at.match(/\w+-\w+-\w+/)[0]),n.a.createElement("br",null),this.props.isAuthorized&&n.a.createElement("button",{className:"btn btn-".concat(this.state.setup.data.likedbyyou?"primary":"secondary"),onClick:function(){return e.likeSetup()}},this.state.setup.data.likedbyyou?"Unlike":"Like",":"," ",n.a.createElement("i",{className:"fa fa-star"})," ",n.a.createElement("span",{className:"badge badge-light"},this.state.setup.data.liked)),this.props.isAuthorized&&this.props.userId===this.state.setup.data.user_id&&n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement(l.b,{className:"btn btn-primary",to:"/setups/".concat(this.props.match.params.id,"/edit")},"Edit"))),n.a.createElement("div",{className:"col-8"},n.a.createElement("img",{src:this.state.setup.data.screenshot,alt:"Thumbnail",className:"setup-image"}))),n.a.createElement("hr",{className:"divider"}),n.a.createElement("div",{className:"center collapse-button-dark","data-toggle":"collapse","data-target":"#collapsePhysique","aria-expanded":"false","aria-controls":"collapsePhysique"},"PHYSIQUE"),n.a.createElement("div",{className:"collapse show",id:"collapsePhysique"},n.a.createElement("div",{className:"card card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},"Helmet ",n.a.createElement("h3",null,t.helmet),n.a.createElement("br",null),"Skin ",n.a.createElement("h3",null,t.skin)),n.a.createElement("div",{className:"col-6"},le(t.colorScheme,this.state.colorPickers.data,"physique"))))),n.a.createElement("br",null),n.a.createElement("div",{className:"center collapse-button-dark","data-toggle":"collapse","data-target":"#collapseAttachments","aria-expanded":"false","aria-controls":"collapseAttachments"},"ATTACHMENTS"),n.a.createElement("div",{className:"collapse",id:"collapseAttachments"},n.a.createElement("div",{className:"card card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},"Chest ",n.a.createElement("h3",null,t.attachments.chest||"None"),n.a.createElement("br",null),"Left Arm ",n.a.createElement("h3",null,t.attachments.leftArm||"None"),n.a.createElement("br",null),"Left Leg ",n.a.createElement("h3",null,t.attachments.leftLeg||"None"),n.a.createElement("br",null)),n.a.createElement("div",{className:"col-6"},"Ephemera ",n.a.createElement("h3",null,t.attachments.ephemera||"None"),n.a.createElement("br",null),"Right Arm ",n.a.createElement("h3",null,t.attachments.rightArm||"None"),n.a.createElement("br",null),"Left Leg ",n.a.createElement("h3",null,t.attachments.rightArm||"None"),n.a.createElement("br",null)))),n.a.createElement("div",{className:"col-6"},le(t.attachments.colorScheme,this.state.colorPickers.data,"attachments"))))),n.a.createElement("br",null),n.a.createElement("div",{className:"center collapse-button-dark","data-toggle":"collapse","data-target":"#collapseSyandana","aria-expanded":"false","aria-controls":"collapseSyandana"},"SYANDANA"),n.a.createElement("div",{className:"collapse",id:"collapseSyandana"},n.a.createElement("div",{className:"card card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},"Syandana ",n.a.createElement("h3",null,t.syandana.name||"None")),n.a.createElement("div",{className:"col-6"},le(t.syandana.colorScheme,this.state.colorPickers.data,"syandana"))))))}}]),t}(r.Component),ie=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"container-fluid main-body"},n.a.createElement(b.d,null,n.a.createElement(b.b,{exact:!0,path:"/fashionframe/",component:ee}),n.a.createElement(b.b,{exact:!0,path:"/fashionframe/signin",component:A}),n.a.createElement(v,{exact:!0,path:"/fashionframe/settings",component:L,isAuthorized:this.props.isAuthorized,userData:this.props.userData}),n.a.createElement(v,{exact:!0,path:"/fashionframe/setups/new",component:K,isAuthorized:this.props.isAuthorized,mode:"new"}),n.a.createElement(v,{exact:!0,path:"/fashionframe/setups/:id/edit",component:K,isAuthorized:this.props.isAuthorized,mode:"edit"}),n.a.createElement(b.b,{exact:!0,path:"/fashionframe/setups/:id",render:function(t){return n.a.createElement(oe,Object.assign({},t,{isAuthorized:e.props.isAuthorized,userId:e.props.userData.id}))}}),n.a.createElement(b.b,{component:D})))}}]),t}(r.Component),me=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).state={loadingUserData:!0,isAuthorized:!1,userData:{}},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("/auth/user");case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent).error?this.setState({isAuthorized:!1,loadingUserData:!1}):this.setState({userData:a,isAuthorized:!0,loadingUserData:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({isAuthorized:!1,loadingUserData:!1});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loadingUserData?n.a.createElement(F,null):n.a.createElement("div",null,n.a.createElement(g,{isAuthorized:this.state.isAuthorized,userData:this.state.userData}),n.a.createElement("br",null),n.a.createElement(ie,{isAuthorized:this.state.isAuthorized,userData:this.state.userData}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(302),a(303);c.a.render(n.a.createElement(l.a,null,n.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[130,1,2]]]);
//# sourceMappingURL=main.b0a3395d.chunk.js.map